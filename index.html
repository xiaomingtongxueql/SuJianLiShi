<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chronos | 溯鉴历史</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Noto+Serif+SC:wght@300;500;700&display=swap"
        rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="libs/tailwind.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        serif: ['"Noto Serif SC"', 'serif'],
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        // Light Mode
                        'bg-light': '#F5F5F7', // Apple Gray
                        'card-light': '#FFFFFF',
                        'text-primary-light': '#1D1D1F',
                        'text-secondary-light': '#86868B',

                        // Dark Mode
                        'bg-dark': '#000000',
                        'card-dark': '#1C1C1E',
                        'text-primary-dark': '#F5F5F7',
                        'text-secondary-dark': '#86868B',
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            /* Light Mode Variables (Default) */
            --bg-base: #F5F5F7;
            --card-bg: #FFFFFF;
            --text-primary: #1D1D1F;
            --text-secondary: #86868B;
            --axis-color: #E5E5EA;
            --control-bg: rgba(255, 255, 255, 0.8);
            --control-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --card-border: rgba(0, 0, 0, 0.04);
            --card-shadow: 0 4px 24px rgba(0, 0, 0, 0.04);
            --card-shadow-hover: 0 12px 32px rgba(0, 0, 0, 0.08);
            --btn-hover: #F2F2F7;
        }

        /* Dark Mode Variables */
        body.dark {
            --bg-base: #000000;
            --card-bg: #1C1C1E;
            --text-primary: #F5F5F7;
            --text-secondary: #86868B;
            --axis-color: #333333;
            --control-bg: rgba(28, 28, 30, 0.8);
            --control-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            --card-border: rgba(255, 255, 255, 0.1);
            --card-shadow: 0 4px 24px rgba(0, 0, 0, 0.2);
            --card-shadow-hover: 0 12px 32px rgba(0, 0, 0, 0.4);
            --btn-hover: #2C2C2E;
        }

        * {
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        body {
            margin: 0;
            background-color: var(--bg-base);
            color: var(--text-primary);
            font-family: 'Inter', system-ui, sans-serif;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text-secondary);
            opacity: 0.2;
            border-radius: 4px;
            border: 2px solid var(--bg-base);
        }

        /* Top Bar Controls */
        .top-controls {
            position: fixed;
            top: 24px;
            right: 24px;
            z-index: 200;
            display: flex;
            gap: 12px;
        }

        .icon-btn {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 1px solid var(--card-border);
            background: var(--card-bg);
            color: var(--text-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--control-shadow);
            transition: all 0.2s ease;
        }

        .icon-btn:hover {
            transform: scale(1.05);
            background-color: var(--btn-hover);
        }

        .icon-btn svg {
            width: 20px;
            height: 20px;
            stroke-width: 2;
        }

        .icon-btn.hidden {
            display: none;
            opacity: 0;
            pointer-events: none;
        }

        .icon-btn.visible {
            display: flex;
            opacity: 1;
            pointer-events: auto;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Header */
        .header {
            padding-top: 100px;
            padding-bottom: 40px;
            text-align: center;
        }

        .header h1 {
            font-family: 'Noto Serif SC', serif;
            font-size: 3rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0 0 16px 0;
            letter-spacing: -0.02em;
        }

        .highlight-gold {
            color: #C5A059;
            /* Elegant Gold */
        }

        .header p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin: 0;
            font-weight: 500;
        }

        /* Segmented Control */
        .control-center {
            position: sticky;
            top: 24px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 60px;
            pointer-events: none;
            /* Allow clicks to pass through to timeline if not on button */
        }

        /* Segmented Control - Reverted to Standard Capsule */
        .segment-container {
            pointer-events: auto;
            display: flex;
            background: var(--control-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 6px;
            border-radius: 999px;
            box-shadow: var(--control-shadow);
            border: 1px solid var(--card-border);
            margin-top: 0;
            /* Reset margin */
        }

        .segment-btn {
            padding: 10px 24px;
            /* Reverted padding */
            min-width: auto;
            /* Reset width */
            border: none;
            background: transparent;
            border-radius: 999px;
            font-size: 0.875rem;
            /* Reverted font size */
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            letter-spacing: normal;
        }

        .segment-btn.active {
            background: var(--card-bg);
            color: var(--text-primary);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            transform: none;
            /* remove scale */
        }

        .segment-btn:hover:not(.active) {
            color: var(--text-primary);
            background: rgba(0, 0, 0, 0.03);
        }

        /* Search Box */
        .search-container {
            pointer-events: auto;
            margin-bottom: 24px;
            /* Increased space */
            position: relative;
            /* For icon positioning */
            width: 100%;
            display: flex;
            justify-content: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            transform-origin: top center;
        }

        .search-container.collapsed {
            opacity: 0;
            transform: translateY(-20px) scale(0.95);
            pointer-events: none;
            margin-bottom: -60px;
            /* Collapse space */
        }

        .search-wrapper {
            position: relative;
            width: 460px;
            /* Larger base width */
            max-width: 90%;
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            color: var(--text-secondary);
            pointer-events: none;
            transition: color 0.3s ease;
            z-index: 10;
        }

        .search-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(24px) saturate(180%);
            -webkit-backdrop-filter: blur(24px) saturate(180%);
            border: 1px solid rgba(0, 0, 0, 0.06);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
            border-radius: 999px;
            padding: 18px 24px 18px 56px;
            /* Left padding for icon */
            font-size: 1.05rem;
            color: var(--text-primary);
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            outline: none;
            font-family: inherit;
        }

        /* Dark mode adjustment for search input */
        body.dark .search-input {
            background: rgba(28, 28, 30, 0.65);
            border-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .search-input:focus {
            transform: scale(1.02);
            background: var(--card-bg);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.08), 0 4px 8px rgba(0, 0, 0, 0.04);
            border-color: rgba(0, 0, 0, 0.1);
        }

        body.dark .search-input:focus {
            border-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
        }

        .search-input:focus+.search-icon {
            color: var(--text-primary);
        }

        .search-input::placeholder {
            color: var(--text-secondary);
            font-weight: 400;
            opacity: 0.8;
        }

        /* Timeline Container */
        .timeline-container {
            position: relative;
            max-width: 1200px;
            /* Increased container width */
            margin: 0 auto;
            padding: 0 24px 120px;
            min-height: 60vh;
        }

        /* Central Axis */
        .central-axis {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--axis-color);
            transition: left 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s;
            border-radius: 1px;
        }

        .central-axis.mode-compare {
            left: 50%;
            opacity: 1;
        }

        .central-axis.mode-china {
            left: 80%;
            opacity: 0;
        }

        .central-axis.mode-world {
            left: 20%;
            opacity: 0;
        }

        /* Event Row */
        .event-row {
            display: flex;
            width: 100%;
            margin-bottom: 64px;
            /* Increased vertical gap */
            opacity: 0;
            transform: translateY(30px);
            animation: fadeUp 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes fadeUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Alignment logic */
        .event-row.align-left {
            justify-content: flex-end;
            padding-right: calc(50% + 40px);
        }

        .event-row.align-right {
            justify-content: flex-start;
            padding-left: calc(50% + 40px);
        }

        .event-row.align-center {
            justify-content: center;
        }

        /* Pebble Card - Elongated Capsule */
        .pebble-card {
            background: var(--card-bg);
            border-radius: 999px;
            /* Force full capsule/ellipse */
            padding: 18px 24px;
            /* Balanced height */
            max-width: 480px;
            /* Standardized width */
            width: 100%;
            /* High Contrast Shadow & Border */
            box-shadow: var(--card-shadow);
            border: 1px solid var(--card-border);
            cursor: pointer;
            transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .pebble-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: var(--card-shadow-hover);
            border-color: rgba(0, 0, 0, 0.1);
            /* Darker border on hover for contrast */
        }

        body.dark .pebble-card:hover {
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* Remove focus outline on card links */
        a.event-row:focus {
            outline: none;
        }

        a.event-row:focus .pebble-card {
            box-shadow: var(--card-shadow-hover);
        }

        .card-year {
            font-family: 'Inter', sans-serif;
            font-size: 1.1rem;
            /* Smaller year */
            font-weight: 500;
            color: var(--text-primary);
            opacity: 0.5;
            /* More visible but still subtle */
            margin-bottom: 8px;
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 4px;
            line-height: 1;
            width: 100%;
            letter-spacing: 0.05em;
        }

        .card-year .era {
            font-size: 0.875rem;
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            opacity: 0.6;
        }

        .card-header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 8px;
            width: 100%;
            position: relative;
        }

        .card-title {
            font-family: 'Noto Serif SC', serif;
            font-size: 1.75rem;
            /* Smaller title */
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .card-desc {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .card-tag {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-left: 10px;
            /* Move directly to side of title */
            flex-shrink: 0;
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
        }

        .card-tag.china {
            background: #E02F2F;
            box-shadow: 0 0 8px rgba(224, 47, 47, 0.4);
        }

        .card-tag.world {
            background: #007AFF;
            box-shadow: 0 0 8px rgba(0, 122, 255, 0.4);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 48px;
            color: var(--text-secondary);
            font-size: 0.75rem;
            opacity: 0.6;
        }

        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 80px 20px;
            color: var(--text-secondary);
            font-family: 'Noto Serif SC', serif;
        }

        /* Mobile Responsive Adjustments */
        @media (max-width: 768px) {

            /* Mobile Contrast View: Single Column */
            .event-row.align-left,
            .event-row.align-right,
            .event-row.align-center {
                justify-content: center;
                padding-left: 0;
                padding-right: 0;
                width: 100%;
                /* Ensure full width */
            }

            .timeline-container {
                padding: 0 12px 120px;
                /* Squeeze padding slightly to give more room for cards */
            }

            .pebble-card {
                padding: 16px 16px;
                max-width: 100%;
                width: 100%;
                /* Force width */
            }

            .card-title {
                font-size: 1.35rem;
                /* Better fit for small screens */
            }

            /* Compact Segment Control for Mobile */
            .segment-btn {
                padding: 8px 16px;
                /* Reduced from 10px 24px */
                font-size: 0.8rem;
            }
        }

        /* Floating Action Button (FAB) - Mobile Only */
        .fab-container {
            display: none;
            /* Hidden by default, shown via JS on mobile scroll */
            position: fixed;
            bottom: 32px;
            right: 24px;
            z-index: 300;
            flex-direction: column-reverse;
            align-items: center;
            gap: 16px;
        }

        .fab-main-btn {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--text-primary);
            color: var(--card-bg);
            /* Inverted contrast */
            border: none;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2;
        }

        .fab-main-btn:active {
            transform: scale(0.95);
        }

        .fab-menu {
            display: flex;
            flex-direction: column;
            gap: 16px;
            position: absolute;
            bottom: 70px;
            opacity: 0;
            pointer-events: none;
            transform: translateY(20px) scale(0.9);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .fab-container.active .fab-menu {
            opacity: 1;
            pointer-events: auto;
            transform: translateY(0) scale(1);
        }

        .fab-item {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--card-bg);
            color: var(--text-primary);
            border: 1px solid var(--card-border);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .fab-item:hover {
            transform: scale(1.05);
            background-color: var(--btn-hover);
        }

        .fab-container.active .fab-main-btn {
            transform: rotate(90deg);
            background: var(--card-bg);
            color: var(--text-primary);
            border: 1px solid var(--card-border);
        }
    </style>
</head>

<body class="light"> <!-- Default to light -->

    <!-- Top Controls -->
    <div class="top-controls">
        <button class="icon-btn" id="theme-btn" title="Toggle Theme">
            <!-- Moon Icon -->
            <svg id="icon-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" />
            </svg>
            <!-- Sun Icon (Hidden by default) -->
            <svg id="icon-sun" class="hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                style="display:none">
                <circle cx="12" cy="12" r="4" />
                <path d="M12 2v2" />
                <path d="M12 20v2" />
                <path d="m4.93 4.93 1.41 1.41" />
                <path d="m17.66 17.66 1.41 1.41" />
                <path d="M2 12h2" />
                <path d="M20 12h2" />
                <path d="m6.34 17.66-1.41 1.41" />
                <path d="m19.07 4.93-1.41 1.41" />
            </svg>
        </button>
        <button class="icon-btn hidden" id="top-search-trigger" title="Search">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
        </button>
        <button class="icon-btn" id="graph-btn" title="View Knowledge Graph"
            onclick="window.location.href='graph_full.html'">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="18" cy="5" r="3" />
                <circle cx="6" cy="12" r="3" />
                <circle cx="18" cy="19" r="3" />
                <line x1="8.59" x2="15.42" y1="13.51" y2="17.49" />
                <line x1="15.41" x2="8.59" y1="6.51" y2="10.49" />
            </svg>
        </button>
    </div>

    <!-- Header -->
    <header class="header">
        <h1><span class="highlight-gold">溯鉴</span>历史</h1>
        <p>Tracing the coordinates of civilization</p>
    </header>

    <!-- Control Center -->
    <div class="control-center">
        <div class="search-container">
            <div class="search-wrapper">
                <input type="text" id="search-input" class="search-input" placeholder="搜索历史事件 / Search..."
                    autocomplete="off">
                <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </div>
        </div>
        <div class="segment-container">
            <button class="segment-btn" data-mode="china">中国史</button>
            <button class="segment-btn active" data-mode="compare">对照</button>
            <button class="segment-btn" data-mode="world">世界史</button>
        </div>
    </div>

    <!-- Timeline -->
    <div class="timeline-container" id="timeline">
        <div class="central-axis mode-compare" id="axis"></div>
        <div id="cards"></div>
    </div>

    <!-- Mobile FAB Menu -->
    <div class="fab-container" id="fab-container">
        <div class="fab-menu">
            <!-- Graph -->
            <button class="fab-item" id="fab-graph" title="Knowledge Graph">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="18" cy="5" r="3" />
                    <circle cx="6" cy="12" r="3" />
                    <circle cx="18" cy="19" r="3" />
                    <line x1="8.59" x2="15.42" y1="13.51" y2="17.49" />
                    <line x1="15.41" x2="8.59" y1="6.51" y2="10.49" />
                </svg>
            </button>
            <!-- Search -->
            <button class="fab-item" id="fab-search" title="Search">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
            </button>
            <!-- Theme -->
            <button class="fab-item" id="fab-theme" title="Toggle Theme">
                <svg class="fab-moon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" />
                </svg>
                <svg class="fab-sun hidden" xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" style="display:none">
                    <circle cx="12" cy="12" r="4" />
                    <path d="M12 2v2" />
                    <path d="M12 20v2" />
                    <path d="m4.93 4.93 1.41 1.41" />
                    <path d="m17.66 17.66 1.41 1.41" />
                    <path d="M2 12h2" />
                    <path d="M20 12h2" />
                    <path d="m6.34 17.66-1.41 1.41" />
                    <path d="m19.07 4.93-1.41 1.41" />
                </svg>
            </button>
        </div>
        <button class="fab-main-btn" id="fab-trigger">
            <!-- Hamburger -->
            <svg class="icon-hamburger" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
            <!-- Close (X) -->
            <svg class="icon-close hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                style="display:none">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>

    <!-- Footer -->
    <footer>Designed with White Porcelain Aesthetics</footer>

    <!-- Data Store -->
    <!-- Data Store -->
    <script>

// Historical Data Store
window.RAW_DATA = {
    "events": [
        {
            "id": "primitive-world",
            "year": -3000000,
            "display": "300万年前",
            "title": "人类起源",
            "enTitle": "Human Origins",
            "cat": "world",
            "desc": "从南方古猿到智人，人类在漫长的进化中学会了直立行走与使用工具。",
            "link": "detail_primitive_world.html",
            "keywords": [
                {
                    "text": "露西",
                    "url": "topic_lucy.html"
                },
                {
                    "text": "尼安德特人",
                    "url": "topic_neanderthal.html"
                },
                {
                    "text": "认知革命",
                    "url": "topic_cognitive_rev.html"
                },
                {
                    "text": "石器工具",
                    "url": "topic_stone_tools.html"
                },
                {
                    "text": "火的使用",
                    "url": "topic_fire.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "primitive-world"
        },
        {
            "id": "primitive-china",
            "year": -700000,
            "display": "70万年前",
            "title": "北京人",
            "enTitle": "Peking Man",
            "cat": "china",
            "desc": "生活在周口店的直立人，标志着中国境内远古人类的存在。",
            "link": "detail_primitive.html",
            "keywords": [
                {
                    "text": "直立人",
                    "url": "topic_homo_erectus.html"
                },
                {
                    "text": "周口店",
                    "url": "topic_zhoukoudian.html"
                },
                {
                    "text": "裴文中",
                    "url": "topic_pei_wenzhong.html"
                },
                {
                    "text": "用火",
                    "url": "topic_fire_china.html"
                },
                {
                    "text": "打制石器",
                    "url": "topic_stone_tools_china.html"
                },
                {
                    "text": "铲形门齿",
                    "url": "topic_shovel_incisors.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "primitive-china"
        },
        {
            "id": "agrarian-rev",
            "year": -10000,
            "display": "1万年前",
            "title": "农业革命",
            "enTitle": "Agrarian Revolution",
            "cat": "world",
            "desc": "人类从采集狩猎转向定居农业，文明诞生的物质基础。",
            "link": "detail_agrarian.html",
            "keywords": [
                {
                    "text": "剩余产品",
                    "url": "topic_surplus.html"
                },
                {
                    "text": "阶级分化",
                    "url": "topic_inequality.html"
                },
                {
                    "text": "国家诞生",
                    "url": "topic_state_origin.html"
                },
                {
                    "text": "人畜共患病",
                    "url": "topic_disease.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "agrarian-rev"
        },
        {
            "id": "mesopotamia",
            "year": -3500,
            "display": "BC 3500",
            "title": "两河流域",
            "enTitle": "Mesopotamia",
            "cat": "world",
            "desc": "苏美尔人在底格里斯河与幼发拉底河之间建立了最早的城市文明。",
            "link": "detail_mesopotamia.html",
            "keywords": [
                {
                    "text": "苏美尔",
                    "url": "topic_sumerians.html"
                },
                {
                    "text": "巴比伦",
                    "url": "topic_babylon.html"
                },
                {
                    "text": "楔形文字",
                    "url": "topic_cuneiform.html"
                },
                {
                    "text": "汉谟拉比",
                    "url": "topic_hammurabi.html"
                },
                {
                    "text": "汉谟拉比法典",
                    "url": "topic_hammurabi.html"
                },
                {
                    "text": "底格里斯河",
                    "url": "topic_tigris.html"
                },
                {
                    "text": "幼发拉底河",
                    "url": "topic_euphrates.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "mesopotamia"
        },
        {
            "id": "egypt",
            "year": -3100,
            "display": "BC 3100",
            "title": "古埃及",
            "enTitle": "Ancient Egypt",
            "cat": "world",
            "desc": "尼罗河畔的法老文明，以金字塔与象形文字著称。",
            "link": "detail_egypt.html",
            "keywords": [
                {
                    "text": "尼罗河",
                    "url": "topic_nile.html"
                },
                {
                    "text": "法老",
                    "url": "topic_pharaoh.html"
                },
                {
                    "text": "金字塔",
                    "url": "topic_pyramid.html"
                },
                {
                    "text": "象形文字",
                    "url": "topic_hieroglyph.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "ancient-egypt"
        },
        {
            "id": "india",
            "year": -2500,
            "display": "BC 2500",
            "title": "古印度",
            "enTitle": "Ancient India",
            "cat": "world",
            "desc": "从哈拉帕文明到吠陀时代，种姓制度与佛教发源地。",
            "link": "detail_india.html",
            "keywords": [
                {
                    "text": "哈拉帕",
                    "url": "topic_harappa.html"
                },
                {
                    "text": "种姓制度",
                    "url": "topic_caste.html"
                },
                {
                    "text": "佛教",
                    "url": "topic_buddhism.html"
                },
                {
                    "text": "阿育王",
                    "url": "topic_ashoka.html"
                },
                {
                    "text": "笈多王朝",
                    "url": "topic_gupta.html"
                },
                {
                    "text": "数字0",
                    "url": "topic_math_india.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "ancient-india"
        },
        {
            "id": "legends",
            "year": -3000,
            "display": "传说时代",
            "title": "炎黄传说",
            "enTitle": "Age of Legends",
            "cat": "china",
            "desc": "华夏文明的曙光，禅让制与大禹治水的英雄史诗。",
            "link": "detail_legends.html",
            "keywords": [
                {
                    "text": "炎帝",
                    "url": "topic_ancestor.html"
                },
                {
                    "text": "黄帝",
                    "url": "topic_ancestor.html"
                },
                {
                    "text": "大禹",
                    "url": "topic_yu.html"
                },
                {
                    "text": "禅让制",
                    "url": "topic_chanrang.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "legends"
        },
        {
            "id": "xia",
            "year": -2070,
            "display": "BC 2070",
            "title": "夏朝",
            "enTitle": "Xia Dynasty",
            "cat": "china",
            "desc": "中国历史上第一个王朝，国家形态的初现。",
            "link": "detail_xia.html",
            "keywords": [
                {
                    "text": "二里头文化",
                    "url": "topic_erlitou.html"
                },
                {
                    "text": "大禹",
                    "url": "topic_dayu.html"
                },
                {
                    "text": "夏启",
                    "url": "#"
                },
                {
                    "text": "世袭制",
                    "url": "topic_hereditary.html"
                },
                {
                    "text": "夏小正",
                    "url": "topic_xiaxiaozheng.html"
                },
                {
                    "text": "商汤灭夏",
                    "url": "topic_jie.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "xia"
        },
        {
            "id": "shang",
            "year": -1600,
            "display": "BC 1600",
            "title": "商朝",
            "enTitle": "Shang Dynasty",
            "cat": "china",
            "desc": "青铜与甲骨文的时代，神秘而在场。",
            "link": "detail_shang.html",
            "keywords": [
                {
                    "text": "甲骨文",
                    "url": "topic_oracle_bone.html"
                },
                {
                    "text": "青铜礼器",
                    "url": "topic_simuwu.html"
                },
                {
                    "text": "盘庚迁殷",
                    "url": "topic_pangeng.html"
                },
                {
                    "text": "武丁中兴",
                    "url": "topic_fuhao.html"
                },
                {
                    "text": "商汤",
                    "url": "topic_shang_tang.html"
                },
                {
                    "text": "纣王",
                    "url": "topic_zhou_king.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "shang"
        },
        {
            "id": "zhou",
            "year": -1046,
            "display": "BC 1046",
            "title": "西周",
            "enTitle": "Western Zhou",
            "cat": "china",
            "desc": "分封制与宗法制确立了华夏文明的社会结构。",
            "link": "detail_zhou.html",
            "keywords": [
                {
                    "text": "周武王",
                    "url": "topic_wuwang.html"
                },
                {
                    "text": "周公",
                    "url": "topic_zhougong.html"
                },
                {
                    "text": "分封制",
                    "url": "topic_fenfeng.html"
                },
                {
                    "text": "宗法制",
                    "url": "topic_zongfa.html"
                },
                {
                    "text": "礼乐制度",
                    "url": "topic_liyue.html"
                },
                {
                    "text": "牧野之战",
                    "url": "topic_wuwang.html"
                },
                {
                    "text": "西周灭亡",
                    "url": "topic_fenghuo.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "zhou"
        },
        {
            "id": "greece",
            "year": -800,
            "display": "BC 800",
            "title": "古希腊",
            "enTitle": "Ancient Greece",
            "cat": "world",
            "desc": "民主政治与人文精神的摇篮。",
            "link": "detail_greece.html",
            "keywords": [
                {
                    "text": "雅典",
                    "url": "topic_athens_democracy.html"
                },
                {
                    "text": "斯巴达",
                    "url": "topic_sparta.html"
                },
                {
                    "text": "民主政治",
                    "url": "topic_athens_democracy.html"
                },
                {
                    "text": "哲学",
                    "url": "topic_socrates.html"
                },
                {
                    "text": "苏格拉底",
                    "url": "topic_socrates.html"
                },
                {
                    "text": "柏拉图",
                    "url": "topic_plato.html"
                },
                {
                    "text": "亚里士多德",
                    "url": "topic_aristotle.html"
                },
                {
                    "text": "亚历山大",
                    "url": "topic_alexander.html"
                },
                {
                    "text": "希腊化",
                    "url": "topic_alexander.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "ancient-greece"
        },
        {
            "id": "warring",
            "year": -770,
            "display": "BC 770",
            "title": "春秋战国",
            "enTitle": "Spring and Autumn & Warring States",
            "cat": "china",
            "desc": "大动荡与大变革，百家争鸣的思想黄金时代。",
            "link": "detail_warring.html",
            "keywords": [
                {
                    "text": "铁器牛耕",
                    "url": "topic_iron_cattle.html"
                },
                {
                    "text": "商鞅变法",
                    "url": "topic_shangyang.html"
                },
                {
                    "text": "百家争鸣",
                    "url": "topic_baijia.html"
                },
                {
                    "text": "孔子",
                    "url": "topic_confucius.html"
                },
                {
                    "text": "秦国",
                    "url": "detail_qin.html"
                },
                {
                    "text": "战国七雄",
                    "url": "topic_seven_states.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "warring-states"
        },
        {
            "id": "qin",
            "year": -221,
            "display": "BC 221",
            "title": "秦朝",
            "enTitle": "Qin Dynasty",
            "cat": "china",
            "desc": "中国历史上第一个统一的多民族封建国家。",
            "link": "detail_qin.html",
            "keywords": [
                {
                    "text": "秦始皇",
                    "url": "topic_yingzheng.html"
                },
                {
                    "text": "李斯",
                    "url": "topic_lisi.html"
                },
                {
                    "text": "郡县制",
                    "url": "topic_junxian.html"
                },
                {
                    "text": "商鞅",
                    "url": "topic_shangyang.html"
                },
                {
                    "text": "秦二世",
                    "url": "topic_chenshengguang.html"
                }
            ],
            "graph": [],
            "rel": []
        },
        {
            "id": "han",
            "year": -202,
            "display": "BC 202",
            "title": "大汉帝国",
            "enTitle": "Han Dynasty",
            "cat": "china",
            "desc": "丝绸之路开通，儒家思想确立正统地位。",
            "link": "detail_han.html",
            "keywords": [
                {
                    "text": "刘邦",
                    "url": "topic_liubang.html"
                },
                {
                    "text": "汉武帝",
                    "url": "topic_hanwudi.html"
                },
                {
                    "text": "刘秀",
                    "url": "topic_liuxiu.html"
                },
                {
                    "text": "丝绸之路",
                    "url": "topic_silkroad.html"
                },
                {
                    "text": "独尊儒术",
                    "url": "topic_duzunrushu.html"
                },
                {
                    "text": "推恩令",
                    "url": "topic_tuien.html"
                },
                {
                    "text": "司马迁",
                    "url": "topic_simaqian.html"
                }
            ],
            "graph": [],
            "rel": [],
            "relatedId": "rome",
            "graphId": "silk-road"
        },
        {
            "id": "rome",
            "year": -27,
            "display": "BC 27",
            "title": "古罗马",
            "enTitle": "Ancient Rome",
            "cat": "world",
            "desc": "从共和国到帝国，法律与军事的典范。",
            "link": "detail_rome.html",
            "keywords": [
                {
                    "text": "共和国",
                    "url": "detail_rome.html"
                },
                {
                    "text": "罗马帝国",
                    "url": "topic_augustus.html"
                },
                {
                    "text": "恺撒",
                    "url": "topic_caesar.html"
                },
                {
                    "text": "屋大维",
                    "url": "topic_augustus.html"
                },
                {
                    "text": "罗马法",
                    "url": "topic_roman_law.html"
                },
                {
                    "text": "十二铜表法",
                    "url": "topic_twelve_tables.html"
                },
                {
                    "text": "民法大全",
                    "url": "topic_justinian.html"
                },
                {
                    "text": "基督教",
                    "url": "topic_christianity.html"
                },
                {
                    "text": "西罗马灭亡",
                    "url": "topic_rome_fall.html"
                }
            ],
            "graph": [],
            "rel": [],
            "relatedId": "han",
            "graphId": "roman-empire"
        },
        {
            "id": "three-kingdoms",
            "year": 220,
            "display": "AD 220",
            "title": "三国",
            "enTitle": "Three Kingdoms",
            "cat": "china",
            "desc": "东汉末年分三国，魏蜀吴三足鼎立，英雄辈出的时代。",
            "link": "detail_three_kingdoms.html",
            "keywords": [
                {
                    "text": "魏(曹)",
                    "url": "topic_caocao.html"
                },
                {
                    "text": "蜀(刘)",
                    "url": "topic_liubei.html"
                },
                {
                    "text": "吴(孙)",
                    "url": "topic_sunquan.html"
                },
                {
                    "text": "曹操",
                    "url": "topic_caocao.html"
                },
                {
                    "text": "刘备",
                    "url": "topic_liubei.html"
                },
                {
                    "text": "孙权",
                    "url": "topic_sunquan.html"
                },
                {
                    "text": "诸葛亮",
                    "url": "topic_zhuge.html"
                },
                {
                    "text": "司马懿",
                    "url": "topic_sima.html"
                },
                {
                    "text": "赤壁之战",
                    "url": "topic_chibi.html"
                },
                {
                    "text": "九品中正制",
                    "url": "topic_jiupin.html"
                },
                {
                    "text": "西晋",
                    "url": "topic_jin.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "three-kingdoms"
        },
        {
            "id": "weijin",
            "year": 220,
            "display": "AD 220",
            "title": "魏晋南北朝",
            "enTitle": "Wei-Jin Southern-Northern Dynasties",
            "cat": "china",
            "desc": "大分裂时期,民族融合与文化繁荣并存。",
            "link": "detail_weijin.html",
            "keywords": [
                {
                    "text": "三国",
                    "url": "detail_three_kingdoms.html"
                },
                {
                    "text": "北魏",
                    "url": "topic_xiaowendi.html"
                },
                {
                    "text": "孝文帝",
                    "url": "topic_xiaowendi.html"
                },
                {
                    "text": "九品中正制",
                    "url": "topic_jiupin.html"
                },
                {
                    "text": "玄学",
                    "url": "topic_zhulin.html"
                },
                {
                    "text": "王羲之",
                    "url": "topic_wangxizhi.html"
                },
                {
                    "text": "陶渊明",
                    "url": "topic_taoyuanming.html"
                },
                {
                    "text": "佛教",
                    "url": "topic_buddhism_china.html"
                },
                {
                    "text": "祖冲之",
                    "url": "topic_zuchongzhi.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "weijin"
        },
        {
            "id": "medieval-europe",
            "year": 476,
            "display": "AD 476",
            "title": "中世纪欧洲",
            "enTitle": "Medieval Europe",
            "cat": "world",
            "desc": "西罗马灭亡后，封建制度与基督教会统治的千年时光。",
            "link": "detail_medieval_europe.html",
            "keywords": [
                {
                    "text": "封建制度",
                    "url": "topic_feudalism.html"
                },
                {
                    "text": "基督教会",
                    "url": "topic_church.html"
                },
                {
                    "text": "教皇",
                    "url": "topic_pope.html"
                },
                {
                    "text": "骑士",
                    "url": "topic_knight.html"
                },
                {
                    "text": "农奴",
                    "url": "topic_manor.html"
                },
                {
                    "text": "十字军东征",
                    "url": "topic_crusades.html"
                },
                {
                    "text": "庄园",
                    "url": "topic_manor.html"
                },
                {
                    "text": "大学",
                    "url": "topic_university.html"
                },
                {
                    "text": "黑死病",
                    "url": "topic_black_death.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "medieval-europe"
        },
        {
            "id": "sui",
            "year": 581,
            "display": "AD 581",
            "title": "隋朝",
            "enTitle": "Sui Dynasty",
            "cat": "china",
            "desc": "结束分裂，开创科举与大运河。",
            "link": "detail_sui.html",
            "keywords": [
                {
                    "text": "隋文帝",
                    "url": "topic_suiwendi.html"
                },
                {
                    "text": "隋炀帝",
                    "url": "topic_suiyangdi.html"
                },
                {
                    "text": "科举制",
                    "url": "topic_keju.html"
                },
                {
                    "text": "大运河",
                    "url": "topic_grand_canal.html"
                },
                {
                    "text": "三省六部",
                    "url": "topic_sansheng.html"
                },
                {
                    "text": "统一全国",
                    "url": "topic_suiwendi.html"
                },
                {
                    "text": "赵州桥",
                    "url": "topic_zhaozhou_bridge.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "sui"
        },
        {
            "id": "tang",
            "year": 618,
            "display": "AD 618",
            "title": "盛唐",
            "enTitle": "Tang Dynasty",
            "cat": "china",
            "desc": "中国封建社会的巅峰，开放包容的万国来朝。",
            "link": "detail_tang.html",
            "keywords": [
                {
                    "text": "唐太宗",
                    "url": "topic_lishimin.html"
                },
                {
                    "text": "武则天",
                    "url": "topic_wuzetian.html"
                },
                {
                    "text": "唐玄宗",
                    "url": "topic_lixuanzong.html"
                },
                {
                    "text": "李白",
                    "url": "topic_libai.html"
                },
                {
                    "text": "杜甫",
                    "url": "topic_dufu.html"
                },
                {
                    "text": "三省六部",
                    "url": "topic_sansheng.html"
                },
                {
                    "text": "科举制",
                    "url": "topic_keju.html"
                },
                {
                    "text": "安史之乱",
                    "url": "topic_anshi_rebellion.html"
                },
                {
                    "text": "节度使",
                    "url": "topic_jiedushi.html"
                },
                {
                    "text": "玄奘西行",
                    "url": "topic_xuanzang.html"
                },
                {
                    "text": "遣唐使",
                    "url": "topic_envoys.html"
                },
                {
                    "text": "长安城",
                    "url": "topic_chang_an.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "tang"
        },
        {
            "id": "song",
            "year": 960,
            "display": "AD 960",
            "title": "宋朝",
            "enTitle": "Song Dynasty",
            "cat": "china",
            "desc": "经济重心南移，商业与科技的高度繁荣。",
            "link": "detail_song.html",
            "keywords": [
                {
                    "text": "宋太祖",
                    "url": "topic_songtaizu.html"
                },
                {
                    "text": "王安石",
                    "url": "topic_wanganshi.html"
                },
                {
                    "text": "苏轼",
                    "url": "topic_sushi.html"
                },
                {
                    "text": "朱熹",
                    "url": "topic_lixue.html"
                },
                {
                    "text": "岳飞",
                    "url": "topic_yuefei.html"
                },
                {
                    "text": "中央集权",
                    "url": "topic_songtaizu.html"
                },
                {
                    "text": "商业革命",
                    "url": "topic_commerce.html"
                },
                {
                    "text": "程朱理学",
                    "url": "topic_lixue.html"
                },
                {
                    "text": "三大发明",
                    "url": "topic_tech_song.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "song"
        },
        {
            "id": "yuan",
            "year": 1271,
            "display": "AD 1271",
            "title": "元朝",
            "enTitle": "Yuan Dynasty",
            "cat": "china",
            "desc": "蒙古帝国的版图，行省制度的开端。",
            "link": "detail_yuan.html",
            "keywords": [
                {
                    "text": "成吉思汗",
                    "url": "topic_genghis.html"
                },
                {
                    "text": "忽必烈",
                    "url": "topic_kublai.html"
                },
                {
                    "text": "文天祥",
                    "url": "topic_wentianxiang.html"
                },
                {
                    "text": "行省制",
                    "url": "topic_xingsheng.html"
                },
                {
                    "text": "宣政院",
                    "url": "topic_xingsheng.html"
                },
                {
                    "text": "澎湖巡检司",
                    "url": "topic_xingsheng.html"
                },
                {
                    "text": "郭守敬",
                    "url": "topic_guoshoujing.html"
                },
                {
                    "text": "关汉卿",
                    "url": "topic_guanhanqing.html"
                },
                {
                    "text": "马可·波罗",
                    "url": "topic_marcopolo.html"
                },
                {
                    "text": "四等人制",
                    "url": "topic_yuan_society.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "yuan"
        },
        {
            "id": "renaissance",
            "year": 1300,
            "display": "AD 1300",
            "title": "文艺复兴",
            "enTitle": "The Renaissance",
            "cat": "world",
            "desc": "人性觉醒的晨曦，希腊罗马古典文化的再生。",
            "link": "detail_renaissance.html",
            "keywords": [
                {
                    "text": "意大利",
                    "url": "topic_italian_renaissance.html"
                },
                {
                    "text": "人文主义",
                    "url": "topic_humanism.html"
                },
                {
                    "text": "但丁",
                    "url": "topic_dante.html"
                },
                {
                    "text": "达·芬奇",
                    "url": "topic_da_vinci.html"
                },
                {
                    "text": "米开朗基罗",
                    "url": "topic_michelangelo.html"
                },
                {
                    "text": "拉斐尔",
                    "url": "topic_raphael.html"
                },
                {
                    "text": "莎士比亚",
                    "url": "topic_shakespeare.html"
                },
                {
                    "text": "科学革命",
                    "url": "topic_scientific_revolution.html"
                },
                {
                    "text": "宗教改革",
                    "url": "topic_reformation.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "renaissance"
        },
        {
            "id": "ming",
            "year": 1368,
            "display": "AD 1368",
            "title": "明朝",
            "enTitle": "Ming Dynasty",
            "cat": "china",
            "desc": "君主专制加强，郑和下西洋的海权绝响。",
            "link": "detail_ming.html",
            "keywords": [
                {
                    "text": "朱元璋",
                    "url": "topic_zhu_yuanzhang.html"
                },
                {
                    "text": "明成祖",
                    "url": "topic_yongle.html"
                },
                {
                    "text": "郑和",
                    "url": "topic_zheng_he.html"
                },
                {
                    "text": "王阳明",
                    "url": "topic_wangyangming.html"
                },
                {
                    "text": "戚继光",
                    "url": "topic_qijiguang.html"
                },
                {
                    "text": "李自成",
                    "url": "topic_lizicheng.html"
                },
                {
                    "text": "内阁制",
                    "url": "topic_neige.html"
                },
                {
                    "text": "心学",
                    "url": "topic_wangyangming.html"
                },
                {
                    "text": "科技巨著",
                    "url": "topic_ming_tech.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "ming"
        },
        {
            "id": "new-navigation",
            "year": 1492,
            "display": "AD 1492",
            "title": "新航路开辟",
            "enTitle": "Age of Discovery",
            "cat": "world",
            "desc": "哥伦布发现新大陆，世界开始连为一个整体。",
            "link": "detail_global_navigation.html",
            "keywords": [
                {
                    "text": "葡萄牙",
                    "url": "topic_portugal_empire.html"
                },
                {
                    "text": "西班牙",
                    "url": "topic_spain_empire.html"
                },
                {
                    "text": "哥伦布",
                    "url": "topic_columbus.html"
                },
                {
                    "text": "麦哲伦",
                    "url": "topic_magellan.html"
                },
                {
                    "text": "达·伽马",
                    "url": "topic_da_gama.html"
                },
                {
                    "text": "物种交换",
                    "url": "topic_columbian_exchange.html"
                },
                {
                    "text": "世界市场",
                    "url": "topic_world_market.html"
                },
                {
                    "text": "殖民扩张",
                    "url": "topic_triangular_trade.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "new-navigation"
        },
        {
            "id": "colonial-plunder",
            "year": 1588,
            "display": "AD 1588",
            "title": "早期殖民掠夺",
            "enTitle": "Colonial Plunder",
            "cat": "world",
            "desc": "三角贸易与日不落帝国的兴起，资本原始积累的血腥序曲。",
            "link": "detail_colonial_plunder.html",
            "keywords": [
                {
                    "text": "殖民掠夺",
                    "url": "detail_colonial_plunder.html"
                },
                {
                    "text": "西班牙",
                    "url": "topic_spain_empire.html"
                },
                {
                    "text": "英国",
                    "url": "topic_british_empire.html"
                },
                {
                    "text": "三角贸易",
                    "url": "topic_triangular_trade.html"
                },
                {
                    "text": "黑奴贸易",
                    "url": "topic_slave_trade.html"
                },
                {
                    "text": "资本原始积累",
                    "url": "topic_capital_accumulation.html"
                },
                {
                    "text": "殖民地灾难",
                    "url": "topic_colonial_disaster.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "colonial-plunder"
        },
        {
            "id": "uk-revolution",
            "year": 1640,
            "display": "AD 1640",
            "title": "英国革命",
            "enTitle": "English Revolution",
            "cat": "world",
            "desc": "光荣革命与权利法案，君主立宪制的开端。",
            "link": "detail_uk_rev.html",
            "keywords": [
                {
                    "text": "议会",
                    "url": "topic_bill_rights.html"
                },
                {
                    "text": "国王",
                    "url": "topic_charles1.html"
                },
                {
                    "text": "克伦威尔",
                    "url": "topic_cromwell.html"
                },
                {
                    "text": "查理一世",
                    "url": "topic_charles1.html"
                },
                {
                    "text": "光荣革命",
                    "url": "topic_glorious_rev.html"
                },
                {
                    "text": "权利法案",
                    "url": "topic_bill_rights.html"
                },
                {
                    "text": "君主立宪制",
                    "url": "topic_constitutional_monarchy.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "uk-revolution"
        },
        {
            "id": "qing",
            "year": 1644,
            "display": "AD 1644",
            "title": "清朝",
            "enTitle": "Qing Dynasty",
            "cat": "china",
            "desc": "封建王朝的黄昏，统一多民族国家的巩固。",
            "link": "detail_qing.html",
            "keywords": [
                {
                    "text": "康熙",
                    "url": "topic_kangxi.html"
                },
                {
                    "text": "雍正",
                    "url": "topic_yongzheng.html"
                },
                {
                    "text": "乾隆",
                    "url": "topic_qianlong.html"
                },
                {
                    "text": "军机处",
                    "url": "topic_junjichu.html"
                },
                {
                    "text": "版图奠定",
                    "url": "topic_qing_territory.html"
                },
                {
                    "text": "闭关锁国",
                    "url": "topic_closed_door.html"
                },
                {
                    "text": "红楼梦",
                    "url": "topic_hongloumeng.html"
                },
                {
                    "text": "台湾",
                    "url": "topic_qing_territory.html"
                },
                {
                    "text": "西藏",
                    "url": "topic_qing_territory.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "qing"
        },
        {
            "id": "industrial-rev-1",
            "year": 1765,
            "display": "AD 1765",
            "title": "第一次工业革命",
            "enTitle": "1st Industrial Rev",
            "cat": "world",
            "desc": "蒸汽机开启的机械化时代。",
            "link": "detail_industrial_rev_1.html",
            "keywords": [
                {
                    "text": "英国",
                    "url": "detail_uk_rev.html"
                },
                {
                    "text": "蒸汽机",
                    "url": "topic_watt.html"
                },
                {
                    "text": "瓦特",
                    "url": "topic_watt.html"
                },
                {
                    "text": "火车",
                    "url": "topic_stephenson.html"
                },
                {
                    "text": "工厂制",
                    "url": "topic_factory_system.html"
                },
                {
                    "text": "城市化",
                    "url": "topic_urbanization.html"
                },
                {
                    "text": "阶级对立",
                    "url": "topic_urbanization.html"
                },
                {
                    "text": "世界市场",
                    "url": "topic_urbanization.html"
                }
            ],
            "graph": [],
            "rel": [],
            "relatedId": "yangwu",
            "graphId": "industrial-rev-1"
        },
        {
            "id": "us-independence",
            "year": 1775,
            "display": "AD 1775",
            "title": "美国独立战争",
            "enTitle": "American Independence",
            "cat": "world",
            "desc": "独立宣言与1787宪法，现代联邦制的诞生。",
            "link": "detail_us_rev.html",
            "keywords": [
                {
                    "text": "英国",
                    "url": "detail_us_rev.html"
                },
                {
                    "text": "美国",
                    "url": "detail_us_rev.html"
                },
                {
                    "text": "华盛顿",
                    "url": "topic_washington.html"
                },
                {
                    "text": "杰斐逊",
                    "url": "topic_jefferson.html"
                },
                {
                    "text": "独立宣言",
                    "url": "topic_declaration.html"
                },
                {
                    "text": "1787宪法",
                    "url": "topic_constitution_1787.html"
                },
                {
                    "text": "三权分立",
                    "url": "topic_separation_powers.html"
                },
                {
                    "text": "共和制",
                    "url": "topic_constitution_1787.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "us-independence"
        },
        {
            "id": "france-revolution",
            "year": 1789,
            "display": "AD 1789",
            "title": "法国大革命",
            "enTitle": "French Revolution",
            "cat": "world",
            "desc": "自由平等博爱，彻底摧毁封建专制的风暴。",
            "link": "detail_french_rev.html",
            "keywords": [
                {
                    "text": "攻占巴士底狱",
                    "url": "topic_bastille.html"
                },
                {
                    "text": "人权宣言",
                    "url": "topic_rights_of_man.html"
                },
                {
                    "text": "第一共和国",
                    "url": "topic_robespierre.html"
                },
                {
                    "text": "拿破仑",
                    "url": "topic_napoleon.html"
                },
                {
                    "text": "第一帝国",
                    "url": "topic_napoleon.html"
                },
                {
                    "text": "拿破仑法典",
                    "url": "topic_napoleonic_code.html"
                },
                {
                    "text": "罗伯斯庇尔",
                    "url": "topic_robespierre.html"
                },
                {
                    "text": "启蒙思想",
                    "url": "detail_french_rev.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "france-revolution"
        },
        {
            "id": "opium-war",
            "year": 1840,
            "display": "AD 1840",
            "title": "鸦片战争",
            "enTitle": "Opium War",
            "cat": "china",
            "desc": "中国近代史的开端，半殖民地半封建社会的开始。",
            "link": "detail_opium.html",
            "keywords": [
                {
                    "text": "贸易逆差",
                    "url": "detail_opium.html"
                },
                {
                    "text": "鸦片走私",
                    "url": "topic_humen.html"
                },
                {
                    "text": "林则徐",
                    "url": "topic_linzexu.html"
                },
                {
                    "text": "虎门销烟",
                    "url": "topic_humen.html"
                },
                {
                    "text": "英国远征军",
                    "url": "detail_opium.html"
                },
                {
                    "text": "清政府",
                    "url": "detail_opium.html"
                },
                {
                    "text": "南京条约",
                    "url": "topic_nanjing_treaty.html"
                },
                {
                    "text": "香港岛",
                    "url": "topic_nanjing_treaty.html"
                },
                {
                    "text": "半殖民地",
                    "url": "topic_nanjing_treaty.html"
                },
                {
                    "text": "魏源",
                    "url": "topic_weiyuan.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "opium-war"
        },
        {
            "id": "marxism",
            "year": 1848,
            "display": "AD 1848",
            "title": "马克思主义诞生",
            "enTitle": "Birth of Marxism",
            "cat": "world",
            "desc": "《共产党宣言》发表，无产阶级有了科学理论。",
            "link": "detail_marxism.html",
            "keywords": [
                {
                    "text": "马克思",
                    "url": "topic_marx.html"
                },
                {
                    "text": "恩格斯",
                    "url": "topic_engels.html"
                },
                {
                    "text": "共产党宣言",
                    "url": "topic_communist_manifesto.html"
                },
                {
                    "text": "第一国际",
                    "url": "topic_first_international.html"
                },
                {
                    "text": "巴黎公社",
                    "url": "topic_paris_commune.html"
                },
                {
                    "text": "社会主义",
                    "url": "detail_marxism.html"
                },
                {
                    "text": "工人运动",
                    "url": "detail_marxism.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "marxism"
        },
        {
            "id": "taiping",
            "year": 1851,
            "display": "AD 1851",
            "title": "太平天国",
            "enTitle": "Taiping Rebellion",
            "cat": "china",
            "desc": "农民战争的最高峰。",
            "link": "detail_taiping.html",
            "keywords": [
                {
                    "text": "洪秀全",
                    "url": "topic_hong_xiuquan.html"
                },
                {
                    "text": "金田起义",
                    "url": "topic_jintian_uprising.html"
                },
                {
                    "text": "定都天京",
                    "url": "topic_tianjing_capital.html"
                },
                {
                    "text": "天朝田亩制度",
                    "url": "topic_land_system.html"
                },
                {
                    "text": "天京事变",
                    "url": "topic_tianjing_incident.html"
                },
                {
                    "text": "天京陷落",
                    "url": "topic_tianjing_fall.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "taiping"
        },
        {
            "id": "yangwu",
            "year": 1861,
            "display": "AD 1861",
            "title": "洋务运动",
            "enTitle": "Self-Strengthening Mov",
            "cat": "china",
            "desc": "师夷长技以自强。",
            "link": "detail_yangwu.html",
            "keywords": [
                {
                    "text": "李鸿章",
                    "url": "topic_li_hongzhang.html"
                },
                {
                    "text": "曾国藩",
                    "url": "topic_zeng_guofan.html"
                },
                {
                    "text": "中体西用",
                    "url": "topic_ti_yong.html"
                },
                {
                    "text": "北洋水师",
                    "url": "topic_beiyang_fleet.html"
                },
                {
                    "text": "甲午战争",
                    "url": "topic_jiawu_war.html"
                },
                {
                    "text": "明治维新",
                    "url": "topic_meiji.html"
                }
            ],
            "graph": [],
            "rel": [],
            "relatedId": "industrial-rev-1",
            "graphId": "yangwu"
        },
        {
            "id": "capitalism-expansion",
            "year": 1861,
            "display": "AD 1861",
            "title": "资本主义扩展",
            "enTitle": "Capitalist Expansion",
            "cat": "world",
            "desc": "俄国农奴制改革、美国内战、日本明治维新。",
            "link": "detail_capitalism_expansion.html",
            "keywords": [
                {
                    "text": "俄国改革",
                    "url": "topic_russian_reform.html"
                },
                {
                    "text": "南北战争",
                    "url": "topic_civil_war.html"
                },
                {
                    "text": "明治维新",
                    "url": "topic_meiji_restoration.html"
                },
                {
                    "text": "废除农奴制",
                    "url": "topic_serfdom_abolition.html"
                },
                {
                    "text": "废除奴隶制",
                    "url": "topic_emancipation.html"
                },
                {
                    "text": "全面西化",
                    "url": "topic_westernization.html"
                },
                {
                    "text": "工业化",
                    "url": "topic_industrialization.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "capitalism-expansion"
        },
        {
            "id": "wuxu_reform",
            "year": 1898,
            "display": "AD 1898",
            "title": "戊戌变法",
            "enTitle": "Hundred Days' Reform",
            "cat": "china",
            "desc": "资产阶级改良运动的兴起与失败。",
            "link": "detail_wuxu.html",
            "keywords": [
                {
                    "text": "康有为",
                    "url": "topic_kang_youwei.html"
                },
                {
                    "text": "梁启超",
                    "url": "topic_liang_qichao.html"
                },
                {
                    "text": "谭嗣同",
                    "url": "topic_tan_sitong.html"
                },
                {
                    "text": "公车上书",
                    "url": "topic_gongche_shangshu.html"
                },
                {
                    "text": "袁世凯",
                    "url": "topic_yuanshikai.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "wuxu_reform"
        },
        {
            "id": "xinhai",
            "year": 1911,
            "display": "AD 1911",
            "title": "辛亥革命",
            "enTitle": "Xinhai Revolution",
            "cat": "china",
            "desc": "推翻帝制，建立共和。",
            "link": "detail_xinhai.html",
            "keywords": [
                {
                    "text": "孙中山",
                    "url": "topic_sunzhongshan.html"
                },
                {
                    "text": "袁世凯",
                    "url": "topic_yuanshikai.html"
                },
                {
                    "text": "同盟会",
                    "url": "topic_tongmenghui.html"
                },
                {
                    "text": "武昌起义",
                    "url": "topic_wuchang_uprising.html"
                },
                {
                    "text": "中华民国",
                    "url": "topic_roc.html"
                },
                {
                    "text": "清帝退位",
                    "url": "topic_qing_abdication.html"
                },
                {
                    "text": "临时约法",
                    "url": "topic_provisional_constitution.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "xinhai"
        },
        {
            "id": "new-culture",
            "year": 1915,
            "display": "AD 1915",
            "title": "新文化运动",
            "enTitle": "New Culture Mov",
            "cat": "china",
            "desc": "民主与科学的启蒙。",
            "link": "detail_new_culture.html",
            "keywords": [
                {
                    "text": "陈独秀",
                    "url": "topic_chenduxiu.html"
                },
                {
                    "text": "李大钊",
                    "url": "topic_li_dazhao.html"
                },
                {
                    "text": "鲁迅",
                    "url": "topic_lu_xun.html"
                },
                {
                    "text": "胡适",
                    "url": "topic_hu_shi.html"
                },
                {
                    "text": "新青年",
                    "url": "topic_new_youth.html"
                },
                {
                    "text": "民主与科学",
                    "url": "topic_democracy_science.html"
                },
                {
                    "text": "马克思主义传播",
                    "url": "topic_li_dazhao.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "new-culture"
        },
        {
            "id": "ww1",
            "year": 1914,
            "display": "AD 1914",
            "title": "第一次世界大战",
            "enTitle": "World War I",
            "cat": "world",
            "desc": "旧秩序的崩溃，欧洲四大帝国解体。",
            "link": "detail_ww1.html",
            "keywords": [
                {
                    "text": "萨拉热窝事件",
                    "url": "topic_sarajevo.html"
                },
                {
                    "text": "协约国",
                    "url": "detail_ww1.html"
                },
                {
                    "text": "同盟国",
                    "url": "detail_ww1.html"
                },
                {
                    "text": "凡尔登战役",
                    "url": "topic_verdun.html"
                },
                {
                    "text": "美国参战",
                    "url": "detail_ww1.html"
                },
                {
                    "text": "十月革命",
                    "url": "detail_october_rev.html"
                },
                {
                    "text": "凡尔赛条约",
                    "url": "topic_versailles.html"
                },
                {
                    "text": "国际联盟",
                    "url": "topic_league_nations.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "ww1"
        },
        {
            "id": "october-rev",
            "year": 1917,
            "display": "AD 1917",
            "title": "十月革命",
            "enTitle": "October Revolution",
            "cat": "world",
            "desc": "人类历史上第一个社会主义国家诞生。",
            "link": "detail_october_rev.html",
            "keywords": [
                {
                    "text": "列宁",
                    "url": "topic_lenin.html"
                },
                {
                    "text": "布尔什维克",
                    "url": "topic_bolshevik.html"
                },
                {
                    "text": "苏维埃",
                    "url": "topic_soviet.html"
                },
                {
                    "text": "阿芙乐尔号",
                    "url": "topic_aurora.html"
                },
                {
                    "text": "新经济政策",
                    "url": "topic_nep.html"
                },
                {
                    "text": "斯大林",
                    "url": "topic_stalin.html"
                },
                {
                    "text": "俄国改革",
                    "url": "topic_russian_reform.html"
                }
            ],
            "graph": [],
            "rel": [],
            "relatedId": "may-fourth",
            "graphId": "october-rev"
        },
        {
            "id": "may-fourth",
            "year": 1919,
            "display": "AD 1919",
            "title": "五四运动",
            "enTitle": "May 4th Movement",
            "cat": "china",
            "desc": "新民主主义革命的开端。",
            "link": "detail_may_fourth.html",
            "keywords": [
                {
                    "text": "巴黎和会",
                    "url": "topic_paris_peace.html"
                },
                {
                    "text": "北京学运",
                    "url": "topic_student_movement.html"
                },
                {
                    "text": "六五罢工",
                    "url": "topic_workers_strike.html"
                },
                {
                    "text": "蔡元培",
                    "url": "topic_cai_yuanpei.html"
                },
                {
                    "text": "新民主主义",
                    "url": "topic_new_democracy.html"
                },
                {
                    "text": "新文化运动",
                    "url": "detail_new_culture.html"
                },
                {
                    "text": "中共成立",
                    "url": "#"
                }
            ],
            "graph": [],
            "rel": [],
            "relatedId": "october-rev",
            "graphId": "may-fourth"
        },
        {
            "id": "cpc-founding",
            "year": 1921,
            "display": "AD 1921",
            "title": "中共成立",
            "enTitle": "Founding of CPC",
            "cat": "china",
            "desc": "开天辟地的大事变，中国革命面貌焕然一新。",
            "link": "detail_ccp_founding.html",
            "keywords": [
                {
                    "text": "中共一大",
                    "url": "topic_first_congress.html"
                },
                {
                    "text": "马列主义",
                    "url": "topic_marxism_china.html"
                },
                {
                    "text": "红船",
                    "url": "topic_red_boat.html"
                },
                {
                    "text": "陈独秀",
                    "url": "topic_chen_duxiu.html"
                },
                {
                    "text": "李大钊",
                    "url": "topic_li_dazhao.html"
                },
                {
                    "text": "工人运动",
                    "url": "topic_worker_movement.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "cpc-founding"
        },
        {
            "id": "northern-expedition",
            "year": 1924,
            "display": "AD 1924",
            "title": "第一次国共合作",
            "enTitle": "First United Front",
            "cat": "china",
            "desc": "打倒列强，除军阀。",
            "link": "detail_first_united_front.html",
            "keywords": [
                {
                    "text": "孙中山",
                    "url": "topic_sun_yat_sen.html"
                },
                {
                    "text": "蒋介石",
                    "url": "topic_chiang_kai_shek.html"
                },
                {
                    "text": "周恩来",
                    "url": "topic_zhou_enlai.html"
                },
                {
                    "text": "陈独秀",
                    "url": "topic_chen_duxiu.html"
                },
                {
                    "text": "鲍罗廷",
                    "url": "topic_borodin.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "northern-expedition"
        },
        {
            "id": "agrarian-revolution",
            "year": 1927,
            "display": "AD 1927",
            "title": "土地革命战争",
            "enTitle": "Agrarian Revolutionary War",
            "cat": "china",
            "desc": "以农村包围城市，武装夺取政权。",
            "link": "detail_agrarian_revolution.html",
            "keywords": [
                {
                    "text": "土地革命",
                    "url": "detail_agrarian_revolution.html"
                },
                {
                    "text": "南昌起义",
                    "url": "topic_nanchang_uprising.html"
                },
                {
                    "text": "井冈山",
                    "url": "topic_jinggangshan.html"
                },
                {
                    "text": "朱德",
                    "url": "topic_zhude.html"
                },
                {
                    "text": "毛泽东",
                    "url": "topic_mao_zedong.html"
                },
                {
                    "text": "长征",
                    "url": "topic_long_march.html"
                },
                {
                    "text": "遵义会议",
                    "url": "topic_zunyi.html"
                },
                {
                    "text": "打土豪分田地",
                    "url": "#"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "agrarian-revolution"
        },
        {
            "id": "anti-japanese",
            "year": 1937,
            "display": "AD 1937",
            "title": "抗日战争",
            "enTitle": "Anti-Japanese War",
            "cat": "china",
            "desc": "全民族抗战，世界反法西斯战争的东方主战场。",
            "link": "detail_anti_japanese.html",
            "keywords": [
                {
                    "text": "七七事变",
                    "url": "topic_lugouqiao.html"
                },
                {
                    "text": "南京大屠杀",
                    "url": "topic_nanjing_massacre.html"
                },
                {
                    "text": "平型关大捷",
                    "url": "topic_pingxingguan.html"
                },
                {
                    "text": "台儿庄战役",
                    "url": "topic_taierzhuang.html"
                },
                {
                    "text": "百团大战",
                    "url": "topic_hundred_regiments.html"
                },
                {
                    "text": "中共七大",
                    "url": "topic_cpc_seventh.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "anti-japanese"
        },
        {
            "id": "ww2",
            "year": 1939,
            "display": "AD 1939",
            "title": "第二次世界大战",
            "enTitle": "World War II",
            "cat": "world",
            "desc": "人类历史上规模最大的全球战争。",
            "link": "detail_ww2.html",
            "keywords": [
                {
                    "text": "珍珠港",
                    "url": "topic_pearl_harbor.html"
                },
                {
                    "text": "斯大林格勒",
                    "url": "topic_stalingrad.html"
                },
                {
                    "text": "诺曼底",
                    "url": "topic_normandy.html"
                },
                {
                    "text": "雅尔塔",
                    "url": "topic_yalta.html"
                },
                {
                    "text": "攻克柏林",
                    "url": "topic_berlin.html"
                },
                {
                    "text": "反法西斯同盟",
                    "url": "topic_yalta.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "ww2"
        },
        {
            "id": "liberation-war",
            "year": 1946,
            "display": "AD 1946",
            "title": "解放战争",
            "enTitle": "War of Liberation",
            "cat": "china",
            "desc": "决定中国前途命运的决战，三大战役奠定胜局。",
            "link": "detail_liberation_war.html",
            "keywords": [
                {
                    "text": "毛泽东",
                    "url": "#"
                },
                {
                    "text": "蒋介石",
                    "url": "#"
                },
                {
                    "text": "重庆谈判",
                    "url": "topic_chongqing.html"
                },
                {
                    "text": "土地改革",
                    "url": "topic_land_reform.html"
                },
                {
                    "text": "挺进大别山",
                    "url": "topic_dabieshan.html"
                },
                {
                    "text": "辽沈战役",
                    "url": "topic_liaoshen.html"
                },
                {
                    "text": "淮海战役",
                    "url": "topic_huaihai.html"
                },
                {
                    "text": "平津战役",
                    "url": "topic_pingjin.html"
                },
                {
                    "text": "渡江战役",
                    "url": "topic_dujiang.html"
                }
            ],
            "graph": [],
            "rel": []
        },
        {
            "id": "cold-war",
            "year": 1947,
            "display": "AD 1947",
            "title": "冷战",
            "enTitle": "Cold War",
            "cat": "world",
            "desc": "美苏两极对峙。",
            "link": "detail_cold_war.html",
            "keywords": [
                {
                    "text": "美国",
                    "url": "#"
                },
                {
                    "text": "苏联",
                    "url": "#"
                },
                {
                    "text": "马歇尔计划",
                    "url": "topic_marshall.html"
                },
                {
                    "text": "柏林墙",
                    "url": "topic_berlin_wall.html"
                },
                {
                    "text": "朝鲜战争",
                    "url": "topic_korean_war.html"
                },
                {
                    "text": "古巴导弹危机",
                    "url": "topic_cuban_missile.html"
                },
                {
                    "text": "铁幕演说",
                    "url": "topic_iron_curtain.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "liberation-war"
        },
        {
            "id": "prc-founding",
            "year": 1949,
            "display": "AD 1949",
            "title": "新中国成立",
            "enTitle": "Founding of PRC",
            "cat": "china",
            "desc": "中国人民站起来了。",
            "link": "detail_new_china.html",
            "keywords": [
                {
                    "text": "政治协商会议",
                    "url": "topic_cppcc.html"
                },
                {
                    "text": "共同纲领",
                    "url": "topic_common_program.html"
                },
                {
                    "text": "抗美援朝",
                    "url": "topic_korean_war.html"
                },
                {
                    "text": "土地改革",
                    "url": "topic_land_reform_1950.html"
                },
                {
                    "text": "一五计划",
                    "url": "topic_five_year_plan_1.html"
                },
                {
                    "text": "1954宪法",
                    "url": "topic_constitution_1954.html"
                },
                {
                    "text": "毛泽东",
                    "url": "topic_maozedong.html"
                }
            ],
            "graph": [],
            "rel": []
        },
        {
            "id": "ussr-fall",
            "year": 1991,
            "display": "AD 1991",
            "title": "苏联解体",
            "enTitle": "Fall of USSR",
            "cat": "world",
            "desc": "两极格局瓦解，多极化趋势加强。",
            "link": "detail_ussr_fall.html",
            "keywords": [
                {
                    "text": "戈尔巴乔夫",
                    "url": "topic_gorbachev.html"
                },
                {
                    "text": "叶利钦",
                    "url": "topic_yeltsin.html"
                },
                {
                    "text": "八一九事件",
                    "url": "topic_august_coup.html"
                },
                {
                    "text": "独联体",
                    "url": "topic_cis.html"
                },
                {
                    "text": "休克疗法",
                    "url": "topic_shock_therapy.html"
                },
                {
                    "text": "冷战",
                    "url": "detail_cold_war.html"
                }
            ],
            "graph": [],
            "rel": [],
            "graphId": "prc-founding"
        }
    ]
};

</script>

    <!-- App Logic -->
    <script>
            (function () {
                // Theme Logic
                const body = document.body;
                const topControls = document.querySelector('.top-controls');
                const fabContainer = document.getElementById('fab-container');
                const fabTrigger = document.getElementById('fab-trigger');
                const fabTheme = document.getElementById('fab-theme');
                const fabSearch = document.getElementById('fab-search');
                const fabGraph = document.getElementById('fab-graph');

                const fabMoon = fabTheme.querySelector('.fab-moon');
                const fabSun = fabTheme.querySelector('.fab-sun');

                const iconHamburger = fabTrigger.querySelector('.icon-hamburger');
                const iconClose = fabTrigger.querySelector('.icon-close');

                // Top Controls (Main Theme Button)
                const themeBtn = document.getElementById('theme-btn');
                const iconMoon = document.getElementById('icon-moon');
                const iconSun = document.getElementById('icon-sun');

                function toggleTheme() {
                    const isDark = body.classList.toggle('dark');
                    const displayMoon = isDark ? 'none' : 'block';
                    const displaySun = isDark ? 'block' : 'none';

                    // Main Toggle
                    iconMoon.style.display = displayMoon;
                    iconSun.style.display = displaySun;

                    // FAB Toggle
                    fabMoon.style.display = displayMoon;
                    fabSun.style.display = displaySun;
                }

                themeBtn.addEventListener('click', toggleTheme);
                fabTheme.addEventListener('click', toggleTheme);

                // FAB Interactions
                fabTrigger.addEventListener('click', () => {
                    const isActive = fabContainer.classList.toggle('active');
                    if (isActive) {
                        iconHamburger.style.display = 'none';
                        iconClose.style.display = 'block';
                    } else {
                        iconHamburger.style.display = 'block';
                        iconClose.style.display = 'none';
                    }
                });

                fabGraph.addEventListener('click', () => {
                    window.location.href = 'graph_full.html';
                });

                fabSearch.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    setTimeout(() => searchInput.focus(), 500);
                    // Close menu after action
                    fabTrigger.click();
                });


                // Get data
                function getData() {
                    if (window.RAW_DATA && window.RAW_DATA.events && window.RAW_DATA.events.length > 0) {
                        return window.RAW_DATA.events;
                    }
                    return [];
                }

                let currentMode = 'compare';
                const cardsContainer = document.getElementById('cards');
                const axis = document.getElementById('axis');
                const buttons = document.querySelectorAll('.segment-btn');
                const searchInput = document.getElementById('search-input');
                const searchContainer = document.querySelector('.search-container');
                const topSearchTrigger = document.getElementById('top-search-trigger');

                let searchTerm = '';

                // Scroll Listener
                window.addEventListener('scroll', () => {
                    const scrollY = window.scrollY;
                    const isMobile = window.innerWidth <= 768;

                    // 1. Dynamic Search Bar logic (Desktop/General)
                    if (scrollY > 150) {
                        searchContainer.classList.add('collapsed');
                        topSearchTrigger.classList.remove('hidden');
                        topSearchTrigger.classList.add('visible');
                    } else {
                        searchContainer.classList.remove('collapsed');
                        topSearchTrigger.classList.remove('visible');
                        topSearchTrigger.classList.add('hidden');
                    }

                    // 2. Mobile FAB Logic
                    if (isMobile) {
                        // When scrolling down past threshold, hide top controls and show FAB
                        if (scrollY > 100) {
                            topControls.style.display = 'none';
                            fabContainer.style.display = 'flex';
                        } else {
                            topControls.style.display = 'flex';
                            fabContainer.style.display = 'none';
                            // Also close FAB if open
                            if (fabContainer.classList.contains('active')) {
                                fabTrigger.click();
                            }
                        }
                    } else {
                        // Reset on desktop
                        topControls.style.display = 'flex';
                        fabContainer.style.display = 'none';
                    }
                });

                // Top Search Button Click
                topSearchTrigger.addEventListener('click', () => {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                    // Wait for scroll/transition slightly then focus
                    setTimeout(() => {
                        searchInput.focus();
                    }, 500);
                });

                // Search Listener
                searchInput.addEventListener('input', (e) => {
                    searchTerm = e.target.value.toLowerCase().trim();
                    render();
                });

                // Render cards
                function render() {
                    const data = getData();
                    if (data.length === 0) {
                        // Don't render "No records" during initial load if we are strictly waiting for data
                        // But getData returns [] if no data.
                        // We rely on tryInit to handle the "Error" state if timeout occurs.
                        // But if render is called manually (e.g. search), [] is valid "no results".
                        // However, during init, we won't call render() until we have data or timeout.
                    }

                    const sorted = [...data].sort((a, b) => a.year - b.year);

                    let filtered = sorted;
                    if (currentMode === 'china') {
                        filtered = sorted.filter(e => e.cat === 'china');
                    } else if (currentMode === 'world') {
                        filtered = sorted.filter(e => e.cat === 'world');
                    }

                    // Filter by search
                    if (searchTerm) {
                        filtered = filtered.filter(e =>
                            e.title.toLowerCase().includes(searchTerm) ||
                            e.desc.toLowerCase().includes(searchTerm) ||
                            (e.year.toString().includes(searchTerm)) ||
                            (e.keywords && e.keywords.some(k => k.text.toLowerCase().includes(searchTerm)))
                        );
                    }

                    // Update axis class
                    axis.className = 'central-axis mode-' + currentMode;
                    if (searchTerm) {
                        axis.style.opacity = '0';
                    } else {
                        axis.style.opacity = '';
                    }

                    // Build HTML
                    if (filtered.length === 0) {
                        cardsContainer.innerHTML = '<div class="empty-state">此处暂无记录</div>';
                        return;
                    }

                    let html = '';
                    filtered.forEach((event, index) => {
                        let alignClass = 'align-center';
                        if (currentMode === 'compare' && !searchTerm) {
                            alignClass = event.cat === 'china' ? 'align-left' : 'align-right';
                        }

                        const year = Math.abs(event.year);
                        const era = event.year < 0 ? 'BC' : 'AD';
                        const displayYear = event.display || (era + ' ' + year);
                        const link = event.link || '#';
                        const isClickable = link !== '#';

                        // 使用 a 标签替代 div，提升移动端兼容性和语义化
                        // 添加 block w-full no-underline 确保样式正确
                        // 添加 id 以支持锚点跳转 (e.g. index.html#event-qin)
                        html += `
                        <a href="${link}" 
                           id="event-${event.id}"
                           class="event-row ${alignClass} block w-full no-underline text-inherit group" 
                           style="animation-delay: ${index * 0.05}s; cursor: ${isClickable ? 'pointer' : 'default'}"
                           onclick="${isClickable ? `saveScrollAndNavigate(event, '${link}')` : 'return false;'}">
                            <div class="pebble-card group-active:scale-95 transition-transform duration-200">
                                <div class="card-year">
                                    ${year}<span class="era">${era}</span>
                                </div>
                                <div class="card-header">
                                    <div class="card-title">${event.title}</div>
                                    <span class="card-tag ${event.cat}"></span>
                                </div>
                                <div class="card-desc">${event.desc}</div>
                            </div>
                        </a>
                    `;
                    });

                    cardsContainer.innerHTML = html;
                }

                // Button click handlers
                buttons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        buttons.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        currentMode = btn.dataset.mode;
                        render();
                    });
                });

                // Initial render with Retry Mechanism (Original Robust Version)
                function tryInit(retries = 0) {
                    if (window.RAW_DATA && window.RAW_DATA.events) {
                        render();
                    } else if (retries < 20) {
                        // Retry up to 20 times (10 seconds total)
                        setTimeout(() => tryInit(retries + 1), 500);
                    } else {
                        // Failed to load
                        console.error('Failed to load real data after 10 seconds.');
                        cardsContainer.innerHTML = `
                            <div class="empty-state" style="color: #ef4444;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin: 0 auto 16px; opacity: 0.8;">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="12" y1="8" x2="12" y2="12"></line>
                                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                </svg>
                                <p style="font-size: 1.2rem; font-weight: 600; margin-bottom: 8px;">数据加载失败</p>
                                <p>可能是网络原因导致数据文件未能下载，<br>请检查网络连接或刷新页面重试。</p>
                                <div style="margin-top: 24px;">
                                    <button onclick="location.reload()" style="padding: 10px 24px; border-radius: 999px; background: var(--text-primary); color: var(--bg); border: none; font-weight:500; cursor: pointer; transition: opacity 0.2s;">
                                        刷新页面
                                    </button>
                                </div>
                            </div>
                        `;
                    }
                }

                tryInit();



                // 保存滚动位置并导航
                window.saveScrollAndNavigate = function (event, link) {
                    if (link && link !== '#') {
                        sessionStorage.setItem('chronos_scroll_position', window.scrollY);
                        // 不再强制 window.location.href，让 a 标签自然跳转
                        // 这样可以保留长按打开新标签页等原生功能
                        // 如果需要强制，可以使用:
                        // event.preventDefault();
                        // window.location.href = link;
                    } else {
                        event.preventDefault(); // 阻止 # 的跳转
                    }
                };

                // 页面加载时恢复滚动位置
                window.addEventListener('load', function () {
                    const savedPosition = sessionStorage.getItem('chronos_scroll_position');
                    if (savedPosition) {
                        // 使用 setTimeout 确保页面完全渲染后再滚动
                        setTimeout(() => {
                            window.scrollTo({
                                top: parseInt(savedPosition),
                                behavior: 'instant'
                            });
                            // 清除保存的位置
                            sessionStorage.removeItem('chronos_scroll_position');
                        }, 100);
                    }
                });
            })();
    </script>
</body>

</html>